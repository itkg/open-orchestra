# CHANGELOG for 1.1.0-beta

Url to see changes : 

 - [Cms bundle](https://github.com/open-orchestra/open-orchestra-cms-bundle/compare/v1.1.0-alpha4...v1.1.0-beta)
 - [Display bundle](https://github.com/open-orchestra/open-orchestra-display-bundle/compare/v1.1.0-alpha4...v1.1.0-beta)
 - [BBCode bundle](https://github.com/open-orchestra/open-orchestra-bbcode-bundle/compare/v1.1.0-alpha4...v1.1.0-beta)
 - [Model bundle](https://github.com/open-orchestra/open-orchestra-model-bundle/compare/v1.1.0-alpha4...v1.1.0-beta)
 - [Model interface](https://github.com/open-orchestra/open-orchestra-model-interface/compare/v1.1.0-alpha4...v1.1.0-beta)
 - [Front bundle](https://github.com/open-orchestra/open-orchestra-front-bundle/compare/v1.1.0-alpha4...v1.1.0-beta)
 - [Base bundle](https://github.com/open-orchestra/open-orchestra-base-bundle/compare/v1.1.0-alpha4...v1.1.0-beta)
 - [Base api bundle](https://github.com/open-orchestra/open-orchestra-base-api-bundle/compare/v1.1.0-alpha4...v1.1.0-beta)
 - [Base api model bundle](https://github.com/open-orchestra/open-orchestra-base-api-mongo-model-bundle/compare/v1.1.0-alpha4...v1.1.0-beta)
 - [Media bundle](https://github.com/open-orchestra/open-orchestra-media-bundle/compare/v1.1.0-alpha4...v1.1.0-beta)
 - [User bundle](https://github.com/open-orchestra/open-orchestra-user-bundle/compare/v1.1.0-alpha4...v1.1.0-beta)
 - [Theme bundle](https://github.com/open-orchestra/open-orchestra-theme-bundle/compare/v1.1.0-alpha4...v1.1.0-beta)
 - [Workflow function bundle](https://github.com/open-orchestra/open-orchestra-worflow-function-bundle/compare/v1.1.0-alpha4...v1.1.0-beta)
 - [Media admin bundle](https://github.com/open-orchestra/open-orchestra-media-admin-bundle/compare/v1.1.0-alpha4...v1.1.0-beta)
 - [Orchestra libs](https://github.com/open-orchestra/open-orchestra-libs/compare/v1.1.0-alpha4...v1.1.0-beta)
 - [Orchestra Mongo libs](https://github.com/open-orchestra/open-orchestra-mongo-libs/compare/v1.1.0-alpha4...v1.1.0-beta)
 - [Media file bundle](https://github.com/open-orchestra/open-orchestra-media-file-bundle/compare/v1.1.0-alpha4...v1.1.0-beta)
 - [Elastica bundle](https://github.com/open-orchestra/open-orchestra-elastica-bundle/compare/v1.1.0-alpha4...v1.1.0-beta)

## Configuration changes

- Adding bundle ``MongoDBMigrationsBundle`` [#853](https://github.com/open-orchestra/open-orchestra/pull/853)
- dependencies version are fixed : ``merge ~1.2.0``, ``backbone ~1.2.3``, ``jquery-minicolors ~2.2.3``, ``backbone.wreqr ~1.3.5``. [#1397](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1397)
- bower dependency ``underscore`` is removed, this package is include by ``backbone`` [#1397](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1397)
- dependencies version are fixed : ``merge ~1.2.0``, ``backbone ~1.2.3``, ``backbone.wreqr ~1.3.5``. [#136](https://github.com/open-orchestra/open-orchestra-media-admin-bundle/pull/136)

## Other changes

- New Bundle : MediaAdminModelBundle [#831](https://github.com/open-orchestra/open-orchestra/pull/831)
- Upgrade to symfony 2.8.3 [#72](https://github.com/open-orchestra/open-orchestra-base-bundle/pull/72)
- role ``ROLE_ACCESS_MOVE_NODE`` is renamed to ``ROLE_ACCESS_MOVE_TREE`` and is now a global role [#1480](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1480)
- Deleted nodes order is -1 [#1440](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1440)
- Redirect to the user edit form after user creation [#1408](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1408)
- Refacto const display strategies name [#1407](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1407)
- replace strings elastica_search and elastica_list by class constant [#21](https://github.com/open-orchestra/open-orchestra-elastica-bundle/pull/21)
- Get master request in method where it is used and not in a constructor [#150](https://github.com/open-orchestra/open-orchestra-front-bundle/pull/150)
- Add the robots meta in the page header [#138](https://github.com/open-orchestra/open-orchestra-front-bundle/pull/138)
- Unskip a MediaStorageManager unit test [#8](https://github.com/open-orchestra/open-orchestra-media-file-bundle/pull/8)
- Add migration script for update of user groups collection,  futher documation about migration in http://open-orchestra.readthedocs.org/en/latest/hosting_guide/migration.html [#531](https://github.com/open-orchestra/open-orchestra-model-bundle/pull/531)
- Node order validator don't checks deleted nodes [#526](https://github.com/open-orchestra/open-orchestra-model-bundle/pull/526)
- Add findByNodeAndSiteSortedByVersion() request in NodeRepository [#514](https://github.com/open-orchestra/open-orchestra-model-bundle/pull/514)
- Suppression of install of nodeJS by the provisioning, it is now installed by ``composer-extra-assets``. use now ``./bin/grunt`` for grunt and not ``./node_modules/.bin/grunt `` [#34](https://github.com/open-orchestra/open-orchestra-provision/pull/34)

## Bug fixes

- Refresh template when edit template form is submitted [#1534](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1534)
- fix error on role delete [#1530](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1530)
- Fix error 404 in the form keyword choice type when you create a new keyword [#1520](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1520)
- The children direction now can be  specified in nodes [#1519](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1519)
- Fix translation labels of defaultListable field in content type form [#1509](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1509)
- The event ``ContentTypeEvents::CONTENT_TYPE_UPDATE`` is dispatched only when content type form is valid [#1505](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1505)
- fix the display of the media block icon [#1502](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1502)
- Fix TinyMCE content display after form submission [#1500](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1500)
- disallow roles with same from and to status [#1498](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1498)
- Fix searchable option of content type field [#1491](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1491)
- Make the color picker working in all contexts [#1488](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1488)
- Fix css ie11 template and node contribution [#1486](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1486)
- fix indent after hide preview button on global pages [#1484](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1484)
- Fix prototype bug [#1482](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1482)
- Refresh navigation menu after a new element has been created in a list [#1479](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1479)
- Don't display the transverse blocks in the blocks panel when editing a transverse node [#1474](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1474)
- Field choice with option multiple disabled [#1472](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1472)
- hide the preview button on global pages (transverse) [#1471](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1471)
- Fix custom field selection on content type creation [#1460](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1460)
- In navigation panel, a root menu is hidden if these submenus aren't visible [#1459](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1459)
- Remove native media option in tinymce context menu [#1455](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1455)
- Nodes with dynamic route pattern can't be added in menus [#1450](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1450)
- Published nodes can be moved [#1443](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1443)
- Fix several bugs for IE9 in the Back Office [#1427](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1427)
- Condition transformer does not use constructor anymore but setter [#1422](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1422)
- Datepicker in content forms [#1406](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1406)
- Suppress multiple load in panel context [#1404](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1404)
- Pass the 'disabled' option to the block form strategy when required [#1399](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1399)
- Fix error 404 Jcrop.gif when a picture is cropped [#1398](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1398)
- Activate tinyMce in collection prototype context [#1396](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1396)
- Fix jarvis widget header style in BackOffice [#1388](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1388)
- disable load dataparemeter in modal context [#1386](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1386)
- When a node is duplicated there's no more node group role creation [#1385](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1385)
- Fix error type of property ``updateAt`` in content type schema [#24](https://github.com/open-orchestra/open-orchestra-elastica-bundle/pull/24)
- Media references are correctly placed [#186](https://github.com/open-orchestra/open-orchestra-media-admin-bundle/pull/186)
- Fix breadcrumb form in media modal [#182](https://github.com/open-orchestra/open-orchestra-media-admin-bundle/pull/182)
-  Fix display media upload with short window [#180](https://github.com/open-orchestra/open-orchestra-media-admin-bundle/pull/180)
- Fix resize with picture ratio lower than 1 [#178](https://github.com/open-orchestra/open-orchestra-media-admin-bundle/pull/178)
- fix missed translation (open_orchestra_media_admin.block.display_media.title) [#162](https://github.com/open-orchestra/open-orchestra-media-admin-bundle/pull/162)
- A super admin user can view all sites when he creates a new form [#160](https://github.com/open-orchestra/open-orchestra-media-admin-bundle/pull/160)
- Fix media selection in tinyMce [#158](https://github.com/open-orchestra/open-orchestra-media-admin-bundle/pull/158)
- Media events are not properly dispatched [#156](https://github.com/open-orchestra/open-orchestra-media-admin-bundle/pull/156)
- Allow recursive merge on tinyMce Stfalcon parameters [#142](https://github.com/open-orchestra/open-orchestra-media-admin-bundle/pull/142)
- Status of contents containing a media field can now be changed [#138](https://github.com/open-orchestra/open-orchestra-media-admin-bundle/pull/138)
- Remove media managment in blocks when form is disabled [#137](https://github.com/open-orchestra/open-orchestra-media-admin-bundle/pull/137)
- Fix access denied error on published node access [#524](https://github.com/open-orchestra/open-orchestra-model-bundle/pull/524)
- Fix broken varnish 4 vcl [#29](https://github.com/open-orchestra/open-orchestra-provision/pull/29)
- As the pixel developer google chrome is not more accessible, I have suppressed the selenium role from our provisioning [#27](https://github.com/open-orchestra/open-orchestra-provision/pull/27)

## New features

- Block menu are invalidate when a node is removed, moved, restore and the status of a node changes . [#1531](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1531)
- add voter on role usage [#1530](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1530)
- increase ergo fo group form [#1522](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1522)
- When a content type is deleted, navigation menu is refresh [#1521](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1521)
- When a website is created, an homepage for this site is also created. [#1518](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1518)
- refresh the page after website creation to show it in the fiexed top nav list [#1515](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1515)
- fix save & back-to-list buttons on top [#1499](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1499)
- Move template menu entry from Editorial to Administration [#1485](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1485)
- allow to extend js form's behavior [#1473](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1473)
- add loader in group tab view [#1467](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1467)
- change new link to button [#1466](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1466)
- Add sortable option for the datatable [#1451](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1451)
- add boolean expression in keywords form type filter [#1442](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1442)
- Remove max length option on email field type [#1439](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1439)
- Datatable action buttons are disabled if the user hasn't the rights [#1438](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1438)
- add notification colors [#1433](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1433)
- Media roles gestion for each folders are available in the group panel [#1416](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1416)
- Allow published node deletion [#1405](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1405)
- add break line in tooltip helper (\n) [#1400](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1400)
- allow published node delete [#1384](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1384)
- auto-select type of search in datatable for content field type [#1382](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1382)
- activate content list block in front [#202](https://github.com/open-orchestra/open-orchestra-display-bundle/pull/202)
- Node cache-control policy differs with or without ESI support [#193](https://github.com/open-orchestra/open-orchestra-display-bundle/pull/193)
- allow end user to format boolean condition in keywords filter [#41](https://github.com/open-orchestra/open-orchestra-libs/pull/41)
- Media can be filtered on type when displayed from media folder [#179](https://github.com/open-orchestra/open-orchestra-media-admin-bundle/pull/179)
- fix the new folder button on media modal [#177](https://github.com/open-orchestra/open-orchestra-media-admin-bundle/pull/177)
- fix back-to-list buttons on top in modal upload [#172](https://github.com/open-orchestra/open-orchestra-media-admin-bundle/pull/172)
- Media library: applications can now describe their own specific alternatives image formats [#144](https://github.com/open-orchestra/open-orchestra-media-admin-bundle/pull/144)
- Add a "Back to list" button on the media upload form in a modal context [#133](https://github.com/open-orchestra/open-orchestra-media-admin-bundle/pull/133)
- Media selection integrates now the alternative selector [#132](https://github.com/open-orchestra/open-orchestra-media-admin-bundle/pull/132)
- Published flag feature [#529](https://github.com/open-orchestra/open-orchestra-model-bundle/pull/529)

## Deprecated

- ``initializeNewNode``  is deprecated and replace by ``initializeNode`` in class ``OpenOrchestra\Backoffice\Manager\NodeManager``. this method will be removed in 1.2.0 [#1518](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1518)
- rename class ``UpdateNodeRedirectionSubscriber`` to ``UpdateRedirectionNodeSubscriber`` [#1503](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1503)
- ``OpenOrchestra\Backoffice\Form\DataTransformer\ChoiceArrayToStringTransformer`` is now deprecated will be removed in 1.2.0 [#1472](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1472)
- ``OpenOrchestra\Backoffice\Form\DataTransformer\ChoiceStringToArrayTransformer`` is now deprecated will be removed in 1.2.0 [#1472](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1472)
- ``FolderRepository:findAllRootFolder`` method in ``OpenOrchestra\MediaModelBundle\Repository`` namespace has been deprecated  use ``findAllRootFolderBySiteId`` [#177](https://github.com/open-orchestra/open-orchestra-media-bundle/pull/177)
- Update the media twig functions [#168](https://github.com/open-orchestra/open-orchestra-media-bundle/pull/168)

## Possible BC breaker

- include string indexation of site alias in error pages path. [#1503](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1503)
- ``DisplayBundle/DisplayBlock/Strategies/AbstractStrategy:getCacheTags()`` is now abstract and must therefore be explicitally implemented on each display strategy [#1457](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1457)
- Move form from backofficeBundle [#1425](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1425)
- Move Model and repository from BackofficeBundle [#1424](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1424)
- Move BackofficeBundle manager [#1423](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1423)
- Move BackofficeBundle subscribers [#1422](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1422)
- Move BackofficeBundle listener [#1421](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1421)
- Move Backoffice display block folder [#1417](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1417)
- Move Backoffice display icon folder [#1417](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1417)
- Move Backoffice initializer folder [#1417](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1417)
- change way to load dataparameter in refresh menu context [#1386](https://github.com/open-orchestra/open-orchestra-cms-bundle/pull/1386)
- DisplayBundle/DisplayBlock/Strategies/AbstractStrategy:getCacheTags() is now abstract and must therefore be explicitally implemented on each display strategy [#200](https://github.com/open-orchestra/open-orchestra-display-bundle/pull/200)
- Disable multi website in media folder [#185](https://github.com/open-orchestra/open-orchestra-media-admin-bundle/pull/185)
- Fixtures for production are cleaned [#530](https://github.com/open-orchestra/open-orchestra-model-bundle/pull/530)
- In the front, the nodes should have the published flag to be displayed [#529](https://github.com/open-orchestra/open-orchestra-model-bundle/pull/529)
